# @selfservice/obd-andr

Черновой модуль для переписывания ядра AndrOBD на TypeScript. Пакет будет предоставлять абстракции поверх ELM327/ISO-протоколов и таблиц PID/DTC, совместимые с `ObdConnectionManager` киоска.

## Цели

- Изолировать от Android-зависимостей и GPL-реализации: вся логика пишется заново, с опорой на открытые стандарты и документацию.
- Обеспечить строгие интерфейсы для чтения/очистки DTC, адаптивного тайминга, мониторинга CAN.
- Подготовить структуры данных (PID, DTC, описания) в формате JSON/TypeScript.

## План миграции

1. Зафиксировать протоколы и команды, используемые в `ElmProt` и смежных классах.
2. Сформировать TypeScript-интерфейсы для транспорта (serial, BLE) и телеграмм.
3. Реализовать адаптивный таймер, очередь команд, парсеры ответов в чистом TypeScript.
4. Подготовить справочники PID/DTC как данные пакета (не код), с указанием источников.
5. Написать модульные тесты на основные сценарии: инициализация, чтение PID, декодирование DTC, Clear DTC.

Все заимствованные идеи фиксируем в документации с указанием лицензий. Исходные Java-файлы остаются в `packages/andr-obd-import` как материал для анализа и подлежат полной переработке.
