# Нормализация справочников PID/DTC

Цель: перенести таблицы `pids.csv`, `conversions.csv`, `vag_pids.csv`, `vag_conversions.csv` и другие справочные файлы из GPL-источника в независимый формат. Используем организацию Open Source / SAE J1979 как primary source.

## План действий

1. Составить список полей и единиц измерения по спецификации SAE J1979 и ISO 15031-5.
2. Сверить с файлами из `packages/andr-obd-import/library/.../res` и выделить уникальные значения, требующие подтверждения из открытых источников.
3. Для каждого PID сформировать JSON-запись:

    ```json
    {
      "mode": "0x01",
      "pid": "0x0C",
      "description": "Engine RPM",
      "min": 0,
      "max": 8000,
      "unit": "rpm",
      "formula": "((A*256)+B)/4"
    }
    ```

4. Для нестандартных PID (например, VAG) указать ссылку на публичную документацию или пометить как требующие исследования.
5. Результирующие файлы сохранить в `./data/pids.json`, `./data/conversions.json` и снабдить примечаниями об источниках.

Документ обновим после первичного парсинга и верификации данных.

## Текущее состояние

- `pids.json` содержит расширенный перечень SAE J1979 PID (топливные коррекции, давление, тайминги, пробег с MIL, напряжения, VIN/CALID) с указанием интервалов опроса и ссылок на первоисточник.
- `conversions.json` охватывает базовые и составные формулы (проценты, температуры, RPM, MAF, тайминги, напряжения, расстояние, испарительную продувку).
- `dtc.json` содержит расширенный срез SAE J2012 кодов (P/B/C/U) с нормализованными формулировками и ссылками на стандарт; покрыты базовые коды по подсистемам (powertrain, chassis, body, network).
- Скрипты `npm run check:pids` и `npm run check:dtc` проверяют формат записей и перекрёстные ссылки, а `npm run data:preview` показывает содержимое оригинального CSV для ручной сверки.
