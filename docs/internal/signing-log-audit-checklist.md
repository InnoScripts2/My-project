# Чек-лист аудита журнала подписей DTC-пакетов

## Периодичность
- Ежемесячно — SecOps
- Ежеквартально — совместно Release инженер + SecOps

## Подготовка
- [ ] Получить актуальную копию `logs/signing.log` из защищённого хранилища.
- [ ] Проверить целостность файла (SHA-256 из журнала хранения).
- [ ] Подготовить отчёт из CDN/репозитория с перечнем опубликованных пакетов за период.
- [ ] Запустить `python tools/data-migration/check_signing_log.py --log <путь>` для базовой валидации.

## Проверка записей
- [ ] Убедиться, что каждое событие подписей имеет уникальную комбинацию `packageId` + `version`.
- [ ] Сверить `checksum` с архивами в CDN.
- [ ] Проверить, что `keyId` соответствует активному ключу периода.
- [ ] Убедиться, что `timestamp` подписи предшествует публикации пакета.
- [ ] Оценить количество записей; неожиданные пики зафиксировать как потенциал инцидента.

## Сопутствующие проверки
- [ ] Сравнить списки пакетов из журнала и из трекера релизов.
- [ ] Проверить наличие записей о ротации ключей (ссылки на акты).
- [ ] Просмотреть журнал инцидентов на предмет связанных событий.
- [ ] При необходимости повторно запустить проверку с `--skip-path-checks`, если артефакты архивированы.

## Результаты
- [ ] Заполнить протокол аудита (дата, участники, найденные несоответствия).
- [ ] При выявлении отклонений — создать задачу в системе трекинга и уведомить владельца инфраструктуры.
- [ ] Архивировать копию проверенного журнала с пометкой периода.
