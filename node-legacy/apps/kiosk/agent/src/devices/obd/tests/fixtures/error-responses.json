{
  "metadata": {
    "description": "Error responses and edge cases from ELM327",
    "source": "Various adapters and conditions",
    "date_captured": "2024-01-15T12:00:00Z",
    "protocol": "Multiple",
    "notes": "Captures real-world error conditions for robust error handling"
  },
  "frames": [
    {
      "command": "0100",
      "response": "NO DATA\r\r>",
      "expected": {
        "success": false,
        "error": "no_data",
        "message": "Vehicle did not respond to query"
      },
      "notes": "Vehicle ECU not responding (engine off or wrong protocol)"
    },
    {
      "command": "0100",
      "response": "SEARCHING...\rSEARCHING...\rSEARCHING...\rUNABLE TO CONNECT\r\r>",
      "expected": {
        "success": false,
        "error": "unable_to_connect",
        "message": "Cannot establish protocol connection"
      },
      "notes": "Protocol search failed (no compatible protocol found)"
    },
    {
      "command": "0100",
      "response": "BUS INIT: ...ERROR\r\r>",
      "expected": {
        "success": false,
        "error": "bus_init_error",
        "message": "Bus initialization failed"
      },
      "notes": "CAN bus initialization error"
    },
    {
      "command": "0100",
      "response": "CAN ERROR\r\r>",
      "expected": {
        "success": false,
        "error": "can_error",
        "message": "CAN bus communication error"
      },
      "notes": "CAN bus error during communication"
    },
    {
      "command": "0100",
      "response": "<DATA ERROR\r\r>",
      "expected": {
        "success": false,
        "error": "data_error",
        "message": "Invalid data received"
      },
      "notes": "Checksum or data validation error"
    },
    {
      "command": "0100",
      "response": "BUFFER FULL\r\r>",
      "expected": {
        "success": false,
        "error": "buffer_full",
        "message": "Adapter buffer overflow"
      },
      "notes": "Too much data received, buffer overflow"
    },
    {
      "command": "0100",
      "response": "?",
      "expected": {
        "success": false,
        "error": "unknown_command",
        "message": "Command not recognized"
      },
      "notes": "Invalid command sent to adapter"
    },
    {
      "command": "0100",
      "response": "STOPPED\r\r>",
      "expected": {
        "success": false,
        "error": "stopped",
        "message": "Communication stopped"
      },
      "notes": "Communication was manually stopped"
    },
    {
      "command": "0100",
      "response": "7E8 06 41 00 BE 3F\r7E8 06 41 00 BE 3F B8 13\r\r>",
      "expected": {
        "success": true,
        "mode": "41",
        "pid": "00",
        "data": ["BE", "3F", "B8", "13"]
      },
      "notes": "Duplicate response (filter required)"
    },
    {
      "command": "0100",
      "response": "SEARCHING...\r7E8 06 41 00\rBE 3F B8 13\r\r>",
      "expected": {
        "success": true,
        "mode": "41",
        "pid": "00",
        "data": ["BE", "3F", "B8", "13"]
      },
      "notes": "Response split across multiple lines"
    },
    {
      "command": "0100",
      "response": "7E8 10 0F 41 00 BE 3F B8\r7E8 21 13 00 00 00 00 00\r\r>",
      "expected": {
        "success": true,
        "mode": "41",
        "pid": "00",
        "data": ["BE", "3F", "B8", "13"],
        "multiframe": true
      },
      "notes": "Multi-frame response (ISO-TP)"
    },
    {
      "command": "ATZ",
      "response": "",
      "expected": {
        "success": false,
        "error": "timeout",
        "message": "No response from adapter"
      },
      "notes": "Timeout - adapter not responding"
    },
    {
      "command": "0100",
      "response": "41 00 XX XX XX XX\r\r>",
      "expected": {
        "success": false,
        "error": "invalid_hex",
        "message": "Non-hexadecimal data in response"
      },
      "notes": "Corrupted data with non-hex characters"
    },
    {
      "command": "0100",
      "response": "7E8 02 41\r\r>",
      "expected": {
        "success": false,
        "error": "incomplete_response",
        "message": "Response shorter than expected"
      },
      "notes": "Incomplete response (truncated)"
    },
    {
      "command": "03",
      "response": "NO DATA\r\r>",
      "expected": {
        "success": true,
        "dtcCount": 0,
        "dtcCodes": []
      },
      "notes": "NO DATA for DTC read means no codes (not an error)"
    }
  ]
}
